<!doctype html>
<meta charset="utf-8">
<script src="build/build.js"></script>
<script>
	var model = require('component-model/lib/index.js');
	var modelSchema = require('model-schema/index.js');
	function Company () {

	}
	var schema = modelSchema({
		"type": "object",
		"properties":{
    	"firstname": { 
  			"type":"string"
  		},
  		"email": { 
  			"type":"string"
  		},
  		"employer": {
  			"type": { "$ref": "http://schema.org/company#" }
  		}
  	}
	}, {
		"http://schema.org/company#": Company
	});

	var User = model('User')
		.use(schema);

	var user = new User({
		firstname: 'John',
		employer: {

		}
	});
	user.on('change firstname', function (val)Â {
		console.log(val);
	});
	user.firstname('Karl');
	
</script>
